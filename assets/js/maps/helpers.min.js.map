{"version":3,"sources":["helpers.js"],"names":["reloadPage","query_for_reload","document","createElement","Object","assign","className","innerHTML","reload_btn","type","innerText","onclick","location","reload","append","body","getFetchResponse","request","arguments","length","undefined","input","fetch","method","JSON","stringify","then","response","ok","json","Error","concat","url","status","statusText","contents","error","console","warn","success","catch","err","message","setLoader","load","classList","add","remove","sortVariants","arr","sort","a","b","args","map","x","localeCompare"],"mappings":"AAAA,SAASA,aACR,IAAMC,EAAmBC,SAASC,cAAc,OAEhDC,OAAOC,OAAOJ,EAAkB,CAC/BK,UAAW,mBACXC,UAAW,oEAGZ,IAAMC,EAAaN,SAASC,cAAc,UAC1CC,OAAOC,OAAOG,EAAY,CACzBC,KAAM,SACNC,UAAW,kBACXC,QAAS,IAAMT,SAASU,SAASC,WAGlCZ,EAAiBa,OAAON,GACxBN,SAASa,KAAKD,OAAOb,GA2BtB,SAASe,mBAA2C,IAA1BC,EAA0BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhB,GAAIG,EAAYH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAC/C,OAAOI,MAAMD,EAAO,CACnBE,OAAQ,OACRR,KAAMS,KAAKC,UAAUR,KAEpBS,MAAMC,IACN,GAAIA,EAASC,GACZ,OAAOD,EAASE,OAEhB,MAAM,IAAIC,MAAJ,iBAAAC,OAA2BJ,EAASK,IAApC,cAAAD,OAAoDJ,EAASM,OAA7D,OAAAF,OAAyEJ,EAASO,WAAlF,SAGPR,MAAMS,IACN,GAAI,UAAWA,EAAU,MAAM,IAAIL,MAAMK,EAASC,OAElD,MADI,YAAaD,GAAUE,QAAQC,KAAK,8BAA+BH,EAASI,SACzEJ,KAEPK,OAAOC,IAGP,MAAM,IAAIX,MAAM,mBAAoBW,EAAIC,YAI3C,SAASC,YAAuB,IAAbC,IAAa1B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAC3B0B,EACH1C,SAASa,KAAK8B,UAAUC,IAAI,SAAU,iBAChC5C,SAASa,KAAK8B,UAAUE,OAAO,SAAU,iBAGjD,SAASC,aAAaC,GACrB,OAAOA,EAAIC,MAAK,SAASC,EAAGC,GAC3B,IAAIC,EAAO,IAAInC,WAAWoC,KAAKC,IAC9B,OAAQA,GACP,IAAK,UAAW,MAAW,MAC3B,IAAK,SAAU,MAAW,YAE3B,OAAOA,KAER,OAAOF,EAAK,GAAGG,cAAcH,EAAK,cAI3BrD,WAAYgB,iBAAkB2B,UAAWK","file":"../modules/helpers.min.js","sourcesContent":["function reloadPage() {\r\n\tconst query_for_reload = document.createElement('div');\r\n\t// –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞—Ä–µ–ª–∞ üë¥, –ø–æ–∂–∞–ª—É—Å—Ç–∞, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.\r\n\tObject.assign(query_for_reload, {\r\n\t\tclassName: 'query_for_reload',\r\n\t\tinnerHTML: '<h2>The database is out of date üë¥ please reload the page.</h2>'\r\n\t})\r\n\t\r\n\tconst reload_btn = document.createElement('button');\r\n\tObject.assign(reload_btn, {\r\n\t\ttype: 'button',\r\n\t\tinnerText: 'Reload Page Now',\r\n\t\tonclick: () => document.location.reload()\r\n\t})\r\n\t\r\n\tquery_for_reload.append(reload_btn);\r\n\tdocument.body.append(query_for_reload);\r\n}\r\n\r\n/*function getFetchResponse(request = {}, contentHandler = () => {throw new Error('\"contentHandler\" in arguments is empty or not exist!')}) {\r\n\tfetch('ajax.php', {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(request)\r\n\t})\r\n\t\t.then((response) => response.json())\r\n\t\t.then((contents) => {\r\n\t\t\tif ('error' in contents) throw new Error(contents.error);\r\n\t\t\tif ('success' in contents) console.warn('SUCCESS in fetch response: ', contents.success);\r\n\t\t\ttry {\r\n\t\t\t\tcontentHandler(contents);\r\n\t\t\t} catch (err) {\r\n\t\t\t\tthrow new Error('ERROR in the function \"contentHandler\": ' + err);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\t\r\n\t\t\t/!** TODO: display in warnings *!/\r\n\t\t\tconsole.error('ERROR in fetch: '+ err.message);\r\n\t\t});\r\n}*/\r\n\r\n\r\n\r\nfunction getFetchResponse(request = {}, input = '') {\r\n\treturn fetch(input, {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(request)\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(`Server error: ${response.url} response ${response.status}, \"${response.statusText}\"`)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((contents) => {\r\n\t\t\tif ('error' in contents) throw new Error(contents.error);\r\n\t\t\tif ('success' in contents) console.warn('SUCCESS in fetch response: ', contents.success);\r\n\t\t\treturn contents;\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\t/** TODO: display in warnings */\r\n\t\t\t// console.error('ERROR in fetch: '+ err.message);\r\n\t\t\tthrow new Error('ERROR in fetch: '+ err.message);\r\n\t\t});\r\n}\r\n\r\nfunction setLoader(load = true) {\r\n\tif (load) {\r\n\t\tdocument.body.classList.add('loader', 'disable-hover')\r\n\t} else document.body.classList.remove('loader', 'disable-hover')\r\n}\r\n\r\nfunction sortVariants(arr) {\r\n\treturn arr.sort(function(a, b) {\r\n\t\tlet args = [...arguments].map((x) => {\r\n\t\t\tswitch (x) {\r\n\t\t\t\tcase 'regular': return x = '400';\r\n\t\t\t\tcase 'italic': return x = '400italic';\r\n\t\t\t}\r\n\t\t\treturn x;\r\n\t\t});\r\n\t\treturn args[0].localeCompare(args[1]);\r\n\t})\r\n}\r\n\r\nexport { reloadPage, getFetchResponse, setLoader, sortVariants };"]}