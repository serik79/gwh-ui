{"version":3,"sources":["indexeddb_databases-polyfill.js","smoothscroll-polyfill@0.4.4.min.js"],"names":["window","indexedDB","console","error","databases","LOCALSTORAGE_CACHE_KEY","getFromStorage","JSON","parse","localStorage","writeToStorage","value","stringify","IDBFactory","prototype","Promise","resolve","Object","entries","reduce","acc","name","version","push","open","args","dbName","existing","[object Object]","apply","this","deleteDatabase","o","t","document","documentElement","style","__forceSmoothScrollPolyfill__","l","e","HTMLElement","Element","r","i","scroll","scrollTo","scrollBy","elementScroll","n","scrollIntoView","s","performance","now","bind","Date","c","navigator","userAgent","RegExp","join","test","arguments","f","h","call","body","left","scrollX","pageXOffset","top","scrollY","pageYOffset","scrollLeft","scrollTop","SyntaxError","behavior","p","a","parentNode","host","getBoundingClientRect","getComputedStyle","position","TypeError","clientHeight","scrollHeight","clientWidth","scrollWidth","d","startTime","Math","cos","PI","startX","x","startY","y","method","scrollable","requestAnimationFrame","exports","module","polyfill"],"mappings":"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","file":"../polyfills/polyfills.min.js","sourcesContent":["(function (window) {\r\n\tif (!window.indexedDB) {\r\n\t\t/** TODO: display in warnings */\r\n\t\tconsole.error(\"Your browser doesn't support a stable version of IndexedDB. Such and such feature will not be available.\");\r\n\t}\r\n\t\r\n\t/**\r\n\t * Polyfill for indexedDB.databases()\r\n\t * Safari and some other older browsers that support indexedDB do NOT\r\n\t * Support enumerating existing databases. This is problematic when it\r\n\t * comes time to cleanup, otherwise we could litter their device with\r\n\t * unreferenceable database handles forcing a nuclear browser clear all history.\r\n\t *\r\n\t * https://stackoverflow.com/questions/57787209/safari-does-not-support-indexeddb-databases\r\n\t */\r\n\tif (window.indexedDB && typeof window.indexedDB.databases === 'undefined') {\r\n\t\tconst LOCALSTORAGE_CACHE_KEY = 'indexedDBDatabases';\r\n\t\t\r\n\t\t// Store a key value map of databases\r\n\t\tconst getFromStorage = () =>\r\n\t\t\tJSON.parse(window.localStorage[LOCALSTORAGE_CACHE_KEY] || '{}');\r\n\t\t\r\n\t\t// Write the database to local storage\r\n\t\tconst writeToStorage = value =>\r\n\t\t\t(window.localStorage[LOCALSTORAGE_CACHE_KEY] = JSON.stringify(value));\r\n\t\t\r\n\t\tIDBFactory.prototype.databases = () =>\r\n\t\t\tPromise.resolve(\r\n\t\t\t\tObject.entries(getFromStorage()).reduce((acc, [name, version]) => {\r\n\t\t\t\t\tacc.push({ name, version });\r\n\t\t\t\t\treturn acc;\r\n\t\t\t\t}, [])\r\n\t\t\t);\r\n\t\t\r\n\t\t// Intercept the existing open handler to write our DBs names\r\n\t\t// and versions to localStorage\r\n\t\tconst open = IDBFactory.prototype.open;\r\n\t\t\r\n\t\tIDBFactory.prototype.open = function (...args) {\r\n\t\t\tconst dbName = args[0];\r\n\t\t\tconst version = args[1] || 1;\r\n\t\t\tconst existing = getFromStorage();\r\n\t\t\twriteToStorage({ ...existing, [dbName]: version });\r\n\t\t\treturn open.apply(this, args);\r\n\t\t};\r\n\t\t\r\n\t\t// Intercept the existing deleteDatabase handler remove our\r\n\t\t// dbNames from localStorage\r\n\t\tconst deleteDatabase = IDBFactory.prototype.deleteDatabase;\r\n\t\t\r\n\t\tIDBFactory.prototype.deleteDatabase = function (...args) {\r\n\t\t\tconst dbName = args[0];\r\n\t\t\tconst existing = getFromStorage();\r\n\t\t\tdelete existing[dbName];\r\n\t\t\twriteToStorage(existing);\r\n\t\t\treturn deleteDatabase.apply(this, args);\r\n\t\t};\r\n\t}\r\n})(window);","!function(){\"use strict\";function o(){var o=window,t=document;if(!(\"scrollBehavior\"in t.documentElement.style&&!0!==o.__forceSmoothScrollPolyfill__)){var l,e=o.HTMLElement||o.Element,r=468,i={scroll:o.scroll||o.scrollTo,scrollBy:o.scrollBy,elementScroll:e.prototype.scroll||n,scrollIntoView:e.prototype.scrollIntoView},s=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now,c=(l=o.navigator.userAgent,new RegExp([\"MSIE \",\"Trident/\",\"Edge/\"].join(\"|\")).test(l)?1:0);o.scroll=o.scrollTo=function(){void 0!==arguments[0]&&(!0!==f(arguments[0])?h.call(o,t.body,void 0!==arguments[0].left?~~arguments[0].left:o.scrollX||o.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:o.scrollY||o.pageYOffset):i.scroll.call(o,void 0!==arguments[0].left?arguments[0].left:\"object\"!=typeof arguments[0]?arguments[0]:o.scrollX||o.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:o.scrollY||o.pageYOffset))},o.scrollBy=function(){void 0!==arguments[0]&&(f(arguments[0])?i.scrollBy.call(o,void 0!==arguments[0].left?arguments[0].left:\"object\"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(o,t.body,~~arguments[0].left+(o.scrollX||o.pageXOffset),~~arguments[0].top+(o.scrollY||o.pageYOffset)))},e.prototype.scroll=e.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==f(arguments[0])){var o=arguments[0].left,t=arguments[0].top;h.call(this,this,void 0===o?this.scrollLeft:~~o,void 0===t?this.scrollTop:~~t)}else{if(\"number\"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError(\"Value could not be converted\");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:\"object\"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},e.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==f(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},e.prototype.scrollIntoView=function(){if(!0!==f(arguments[0])){var l=function(o){for(;o!==t.body&&!1===(e=p(l=o,\"Y\")&&a(l,\"Y\"),r=p(l,\"X\")&&a(l,\"X\"),e||r);)o=o.parentNode||o.host;var l,e,r;return o}(this),e=l.getBoundingClientRect(),r=this.getBoundingClientRect();l!==t.body?(h.call(this,l,l.scrollLeft+r.left-e.left,l.scrollTop+r.top-e.top),\"fixed\"!==o.getComputedStyle(l).position&&o.scrollBy({left:e.left,top:e.top,behavior:\"smooth\"})):o.scrollBy({left:r.left,top:r.top,behavior:\"smooth\"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function n(o,t){this.scrollLeft=o,this.scrollTop=t}function f(o){if(null===o||\"object\"!=typeof o||void 0===o.behavior||\"auto\"===o.behavior||\"instant\"===o.behavior)return!0;if(\"object\"==typeof o&&\"smooth\"===o.behavior)return!1;throw new TypeError(\"behavior member of ScrollOptions \"+o.behavior+\" is not a valid value for enumeration ScrollBehavior.\")}function p(o,t){return\"Y\"===t?o.clientHeight+c<o.scrollHeight:\"X\"===t?o.clientWidth+c<o.scrollWidth:void 0}function a(t,l){var e=o.getComputedStyle(t,null)[\"overflow\"+l];return\"auto\"===e||\"scroll\"===e}function d(t){var l,e,i,c,n=(s()-t.startTime)/r;c=n=n>1?1:n,l=.5*(1-Math.cos(Math.PI*c)),e=t.startX+(t.x-t.startX)*l,i=t.startY+(t.y-t.startY)*l,t.method.call(t.scrollable,e,i),e===t.x&&i===t.y||o.requestAnimationFrame(d.bind(o,t))}function h(l,e,r){var c,f,p,a,h=s();l===t.body?(c=o,f=o.scrollX||o.pageXOffset,p=o.scrollY||o.pageYOffset,a=i.scroll):(c=l,f=l.scrollLeft,p=l.scrollTop,a=n),d({scrollable:c,method:a,startTime:h,startX:f,startY:p,x:e,y:r})}}\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports={polyfill:o}:o()}();"]}